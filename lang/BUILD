load("@io_bazel_rules_go//go:def.bzl", "go_library")

genrule(
    name = "generateTablesFile",
    # generated by: bazel info build-language > build-language.pb
    # Unable to get this info from within a single bazel.
    srcs = ["build-language.pb"],
    outs = ["tables.go"],
    cmd = "$(location //generateTables) $(SRCS) > $@",
    tools = ["//generateTables"],
)

go_library(
    name = "go_default_library",
    srcs = [
        "tables.go",  # keep
    ],
    visibility = ["//visibility:public"],
    deps = ["//build_proto:go_default_library"],
)
